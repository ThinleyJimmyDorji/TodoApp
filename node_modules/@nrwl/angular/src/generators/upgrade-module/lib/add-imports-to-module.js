"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addImportsToModule = void 0;
const devkit_1 = require("@nrwl/devkit");
const ast_utils_1 = require("@nrwl/workspace/src/utilities/ast-utils");
const ast_utils_2 = require("../../../utils/nx-devkit/ast-utils");
function addImportsToModule(tree, options) {
    let { moduleClassName, modulePath, moduleSource } = ast_utils_2.readBootstrapInfo(tree, options.project);
    const { className, fileName } = devkit_1.names(options.name);
    moduleSource = ast_utils_1.insertImport(tree, moduleSource, modulePath, `configure${className}, upgradedComponents`, `../${fileName}-setup`);
    moduleSource = ast_utils_1.insertImport(tree, moduleSource, modulePath, 'UpgradeModule', '@angular/upgrade/static');
    moduleSource = ast_utils_2.addImportToModule(tree, moduleSource, modulePath, 'UpgradeModule');
    moduleSource = ast_utils_2.addDeclarationToModule(tree, moduleSource, modulePath, '...upgradedComponents');
    ast_utils_2.addEntryComponents(tree, moduleSource, modulePath, ast_utils_2.getBootstrapComponent(moduleSource, moduleClassName));
}
exports.addImportsToModule = addImportsToModule;
//# sourceMappingURL=add-imports-to-module.js.map