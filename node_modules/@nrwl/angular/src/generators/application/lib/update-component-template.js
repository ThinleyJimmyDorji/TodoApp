"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateComponentTemplate = void 0;
const ts = require("typescript");
const ast_utils_1 = require("@nrwl/workspace/src/utilities/ast-utils");
const ast_utils_2 = require("../../../utils/nx-devkit/ast-utils");
const nrwl_home_tpl_1 = require("./nrwl-home-tpl");
function updateComponentTemplate(host, options) {
    const content = options.routing
        ? `${nrwl_home_tpl_1.nrwlHomeTemplate.html}\n<router-outlet></router-outlet>`
        : nrwl_home_tpl_1.nrwlHomeTemplate.html;
    if (!options.inlineTemplate) {
        host.write(`${options.appProjectRoot}/src/app/app.component.html`, content);
        return;
    }
    // Inline component update
    const componentPath = `${options.appProjectRoot}/src/app/app.component.ts`;
    const templateNodeValue = ast_utils_2.getDecoratorPropertyValueNode(host, componentPath, 'Component', 'template', '@angular/core');
    ast_utils_1.replaceNodeValue(host, ts.createSourceFile(componentPath, host.read(componentPath, 'utf-8'), ts.ScriptTarget.Latest, true), componentPath, templateNodeValue, `\`\n${nrwl_home_tpl_1.nrwlHomeTemplate.html}\n\`,\n`);
}
exports.updateComponentTemplate = updateComponentTemplate;
//# sourceMappingURL=update-component-template.js.map