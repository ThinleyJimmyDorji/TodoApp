"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.angularMoveSchematic = exports.angularMoveGenerator = void 0;
const tslib_1 = require("tslib");
const devkit_1 = require("@nrwl/devkit");
const workspace_1 = require("@nrwl/workspace");
const update_module_name_1 = require("./lib/update-module-name");
/**
 * Moves an Angular lib/app to another folder (and renames it in the process)
 *
 * @remarks It's important to note that `updateModuleName` is done after the update
 * to the workspace, so it can't use the same tricks as the `@nrwl/workspace` rules
 * to get the before and after names and paths.
 */
function angularMoveGenerator(tree, schema) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        yield workspace_1.moveGenerator(tree, Object.assign(Object.assign({}, schema), { skipFormat: true }));
        update_module_name_1.updateModuleName(tree, schema);
        if (!schema.skipFormat) {
            yield devkit_1.formatFiles(tree);
        }
    });
}
exports.angularMoveGenerator = angularMoveGenerator;
exports.angularMoveSchematic = devkit_1.convertNxGenerator(angularMoveGenerator);
//# sourceMappingURL=move.js.map