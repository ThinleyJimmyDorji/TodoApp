"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeSchema = void 0;
const devkit_1 = require("@nrwl/devkit");
const utils_1 = require("./utils");
function normalizeSchema(tree, schema, projectConfiguration) {
    var _a;
    const destination = schema.destination.startsWith('/')
        ? utils_1.normalizeSlashes(schema.destination.substr(1))
        : schema.destination;
    const newProjectName = utils_1.getNewProjectName(destination);
    const { npmScope } = devkit_1.getWorkspaceLayout(tree);
    return Object.assign(Object.assign({}, schema), { destination, importPath: (_a = schema.importPath) !== null && _a !== void 0 ? _a : utils_1.normalizeSlashes(`@${npmScope}/${newProjectName}`), newProjectName, relativeToRootDestination: utils_1.getDestination(tree, schema, projectConfiguration) });
}
exports.normalizeSchema = normalizeSchema;
//# sourceMappingURL=normalize-schema.js.map